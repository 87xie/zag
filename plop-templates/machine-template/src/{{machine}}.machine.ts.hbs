import { createMachine, preserve } from "@ui-machines/core"
import { Context } from "../type-utils"
import { {{capitalize machine}}MachineContext, {{capitalize machine}}MachineState } from "./{{machine}}.types"

export type {{capitalize machine}}MachineContext = Context<{}>

export type {{capitalize machine}}MachineState = {
  value: "open" | "closed"
}

export const {{machine}}Machine = createMachine<
  {{capitalize machine}}MachineContext,
  {{capitalize machine}}MachineState
>(
  {
    id: "{{machine}}-machine",
    initial: "closed",
    context: {
    },
    on: {
      MOUNT: {
        actions: ["setId", "setOwnerDocument"],
      },
    },
    states: {
    },
  },
  {
    guards: {
   
    },
    actions: {
      setId(ctx, evt) {
        ctx.uid = evt.id
      },
      setOwnerDocument(ctx, evt) {
        ctx.doc = preserve(evt.doc)
      },
    },
  },
)
